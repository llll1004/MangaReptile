{"version":3,"sources":["webpack:///./src/App.vue?aa1c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?8d05","webpack:///./src/components/Index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","loadingInstance","Index","created","getSessionID","data","mangaForm","targetSite","targetUrl","mangaRules","ws","wsMsg","chapterData","mangaContent","chapterName","mangaName","downloadUrl","reptileType","targetUrlHint","methods","_this2","SessionID","axios_default","a","get","then","res","console","log","openWebSocket","url","WebSocket","onopen","onmessage","substring","setText","crawlChapter","_this3","_this","element_ui_common","service","lock","background","text","params","images","close","successNotify","catch","err","errorNotify","crawlManga","_this4","chapters","downloadChapter","_this5","siteUrl","window","location","href","length","replace","open","downloadManga","_this6","reptileTypeChange","label","title","message","$notify","type","warningNotify","infoNotify","info","error","components_Index","_vm","staticClass","justify","ref","model","rules","label-width","placeholder","value","callback","$$v","$set","expression","_v","on","change","prop","plain","click","_e","_s","_l","item","key","src","alt","src_components_Index","Index_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","ElementUI","prototype","axios","el","components","App","template"],"mappings":"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","file":"static/js/app.c6f7267c8c1d591d5346.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b8fd939\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b8fd939\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b8fd939\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n}\n</script>\n\n<style>\n#app {\n  /* font-family: 'Avenir', Helvetica, Arial, sans-serif; */\n  /* -webkit-font-smoothing: antialiased; */\n  /* -moz-osx-font-smoothing: grayscale; */\n  /* text-align: center; */\n  /* color: #2c3e50; */\n  /* margin-top: 60px; */\n  height: 100%;\n}\n\nbody {\n  margin: 0px;\n  height: 100%;\n}\n\nhtml {\n  height: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"main-div\">\n    <el-row type=\"flex\"\n            class=\"row-bg\"\n            justify=\"center\">\n      <el-card class=\"box-card main-card\">\n        <!-- 抓取表单 -->\n        <el-form :model=\"mangaForm\"\n                 :rules=\"mangaRules\"\n                 ref=\"mangaForm\"\n                 label-width=\"100px\"\n                 class=\"demo-border\">\n          <!-- 目标站点 -->\n          <el-form-item label=\"目标站点\">\n            <el-select v-model=\"mangaForm.targetSite\"\n                       placeholder=\"目标站点\">\n              <el-option label=\"轻之国度\"\n                         value=\"1\"></el-option>\n            </el-select>\n          </el-form-item>\n          <!-- 抓取方式 -->\n          <el-form-item label=\"抓取方式\">\n            <el-radio-group @change=\"reptileTypeChange\"\n                            v-model=\"reptileType\">\n              <el-radio-button label=\"1\">章节</el-radio-button>\n              <el-radio-button label=\"2\">漫画</el-radio-button>\n            </el-radio-group>\n          </el-form-item>\n          <!-- 目标地址 -->\n          <el-form-item :label=\"targetUrlHint\"\n                        prop=\"targetUrl\">\n            <el-input v-model=\"mangaForm.targetUrl\"></el-input>\n          </el-form-item>\n        </el-form>\n        <!-- 提交 -->\n        <div class=\"cmt-btn\">\n          <el-button type=\"primary\"\n                     plain\n                     v-if=\"reptileType == 1\"\n                     @click=\"crawlChapter\">解析章节</el-button>\n          <el-button type=\"primary\"\n                     plain\n                     v-if=\"reptileType == 2\"\n                     @click=\"crawlManga\">解析漫画</el-button>\n          <el-button type=\"primary\"\n                     plain\n                     v-if=\"reptileType == 1\"\n                     @click=\"downloadChapter\">下载章节</el-button>\n          <el-button type=\"primary\"\n                     plain\n                     v-if=\"reptileType == 2\"\n                     @click=\"downloadManga\">下载漫画</el-button>\n        </div>\n        <!-- 结果预览 - 章节 -->\n        <h1>{{chapterName}}</h1>\n        <div class=\"block\"\n             v-for=\"item in chapterData\"\n             :key=\"item\">\n          <img :src=\"item\"\n               alt=\"\">\n        </div>\n        <!-- 结果预览 - 漫画 -->\n        <h1>{{mangaName}}</h1>\n        <div v-for=\"item in mangaContent\"\n             :key=\"item.name\">\n          <h2>{{item.name}}</h2>\n        </div>\n      </el-card>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n// axios.defaults.withCredentials = true // 允许携带cookie\nimport { Loading } from 'element-ui'\n\nlet loadingInstance = null\n\nexport default {\n  name: 'Main',\n  created() {\n    this.getSessionID()\n  },\n  data() {\n    return {\n      mangaForm: {\n        targetSite: '1',\n        targetUrl: '',\n      },\n      mangaRules: {},\n      // websocket\n      ws: null,\n      wsMsg: '',\n      // 章节图片地址\n      chapterData: [],\n      // 漫画章节标题\n      mangaContent: [],\n      // 章节名\n      chapterName: '',\n      // 漫画名\n      mangaName: '',\n      // 下载地址\n      downloadUrl: '',\n      // 抓取方式\n      reptileType: '1',\n      // 地址输入提示\n      targetUrlHint: '章节地址',\n    }\n  },\n  methods: {\n    // 获取SessionID\n    getSessionID: function () {\n      let SessionID = ''\n      axios.get('http://localhost:8080/manga/connect').then((res) => {\n        SessionID = res.data.data\n        console.log(SessionID)\n        this.openWebSocket(SessionID)\n      })\n    },\n    // 建立ws连接\n    openWebSocket: function (SessionID) {\n      let _this = this\n      let url = 'ws://localhost:8080/websocket/' + SessionID\n      this.ws = new WebSocket(url)\n      this.ws.onopen = function () {\n        console.log('尝试连接到服务器')\n      }\n      this.ws.onmessage = function (res) {\n        this.wsMsg = res.data\n        console.log(this.wsMsg)\n        if (res.data.substring(0, 6) == 'wsMsg:') {\n          loadingInstance.setText(res.data.substring(6))\n        } else {\n          console.log(res.data.substring(0, 6))\n        }\n      }\n    },\n    // 解析章节\n    crawlChapter: function () {\n      this.chapterData = []\n      this.chapterName = ''\n      this.mangaContent = []\n      this.mangaName = ''\n      let _this = this\n      loadingInstance = Loading.service({\n        lock: true,\n        background: 'rgba(0, 0, 0, 0.7)',\n        text: '章节解析中...',\n      })\n      axios\n        .get('http://localhost:8080/manga/detail', {\n          params: { url: this.mangaForm.targetUrl },\n        })\n        .then((res) => {\n          this.chapterData = res.data.data.images\n          this.chapterName = res.data.data.name\n          loadingInstance.close()\n          this.successNotify(_this, '成功', '解析完毕')\n        })\n        .catch((err) => {\n          console.log(err)\n          loadingInstance.close()\n          this.errorNotify(_this, '错误', '解析失败')\n        })\n    },\n    // 解析漫画\n    crawlManga: function () {\n      this.chapterData = []\n      this.chapterName = ''\n      this.mangaContent = []\n      this.mangaName = ''\n      let _this = this\n      loadingInstance = Loading.service({\n        lock: true,\n        background: 'rgba(0, 0, 0, 0.7)',\n        text: '漫画解析中...',\n      })\n      axios\n        .get('http://localhost:8080/manga/chapters', {\n          params: { url: this.mangaForm.targetUrl },\n        })\n        .then((res) => {\n          this.mangaContent = res.data.data.chapters\n          this.mangaName = res.data.data.name\n          loadingInstance.close()\n          this.successNotify(_this, '成功', '解析完毕')\n        })\n        .catch((err) => {\n          console.log(err)\n          loadingInstance.close()\n          this.errorNotify(_this, '错误', '解析失败')\n        })\n    },\n    // 下载章节\n    downloadChapter: function () {\n      let _this = this\n      loadingInstance = Loading.service({\n        lock: true,\n        background: 'rgba(0, 0, 0, 0.7)',\n        text: '获取图片中...',\n      })\n      axios\n        .get('http://localhost:8080/manga/downloadChapter', {\n          params: {\n            siteUrl: window.location.href.substring(\n              0,\n              window.location.href.length - 2\n            ),\n          },\n        })\n        .then((res) => {\n          this.downloadUrl = res.data.data\n          this.downloadUrl = this.downloadUrl.replace(/\\[/g, '%5B')\n          this.downloadUrl = this.downloadUrl.replace(/\\]/g, '%5D')\n          loadingInstance.close()\n          this.successNotify(_this, '成功', '打包成功')\n          window.open(this.downloadUrl, '_blank')\n        })\n        .catch((err) => {\n          console.log(err)\n          loadingInstance.close()\n          this.errorNotify(_this, '错误', '获取失败')\n        })\n    },\n    // 下载漫画\n    downloadManga: function () {\n      let _this = this\n      loadingInstance = Loading.service({\n        lock: true,\n        background: 'rgba(0, 0, 0, 0.7)',\n        text: '获取章节中...',\n      })\n      axios\n        .get('http://localhost:8080/manga/downloadManga', {\n          params: {\n            siteUrl: window.location.href.substring(\n              0,\n              window.location.href.length - 2\n            ),\n          },\n        })\n        .then((res) => {\n          this.downloadUrl = res.data.data\n          this.downloadUrl = this.downloadUrl.replace(/\\[/g, '%5B')\n          this.downloadUrl = this.downloadUrl.replace(/\\]/g, '%5D')\n          loadingInstance.close()\n          this.successNotify(_this, '成功', '打包成功')\n          window.open(this.downloadUrl, '_blank')\n        })\n        .catch((err) => {\n          console.log(err)\n          loadingInstance.close()\n          this.errorNotify(_this, '错误', '获取失败')\n        })\n    },\n    // 抓取方式改变\n    reptileTypeChange: function (label) {\n      if (label == 1) {\n        this.targetUrlHint = '章节地址'\n      } else if (label == 2) {\n        this.targetUrlHint = '漫画地址'\n      }\n    },\n    // 提示消息\n    successNotify(_this, title, message) {\n      _this.$notify({\n        title: title,\n        message: message,\n        type: 'success',\n      })\n    },\n    warningNotify(_this, title, message) {\n      _this.$notify({\n        title: title,\n        message: message,\n        type: 'warning',\n      })\n    },\n    infoNotify(_this, title, message) {\n      _this.$notify.info({\n        title: title,\n        message: message,\n      })\n    },\n    errorNotify(_this, title, message) {\n      _this.$notify.error({\n        title: title,\n        message: message,\n      })\n    },\n  },\n}\n</script>\n\n<style scoped>\n.main-card {\n  margin-top: 150px;\n  min-width: 60%;\n}\n.main-div {\n  background-color: rgba(0, 0, 0, 0.562);\n  height: 100%;\n}\n.cmt-btn {\n  text-align: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-div\"},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-card',{staticClass:\"box-card main-card\"},[_c('el-form',{ref:\"mangaForm\",staticClass:\"demo-border\",attrs:{\"model\":_vm.mangaForm,\"rules\":_vm.mangaRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"目标站点\"}},[_c('el-select',{attrs:{\"placeholder\":\"目标站点\"},model:{value:(_vm.mangaForm.targetSite),callback:function ($$v) {_vm.$set(_vm.mangaForm, \"targetSite\", $$v)},expression:\"mangaForm.targetSite\"}},[_c('el-option',{attrs:{\"label\":\"轻之国度\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"抓取方式\"}},[_c('el-radio-group',{on:{\"change\":_vm.reptileTypeChange},model:{value:(_vm.reptileType),callback:function ($$v) {_vm.reptileType=$$v},expression:\"reptileType\"}},[_c('el-radio-button',{attrs:{\"label\":\"1\"}},[_vm._v(\"章节\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"2\"}},[_vm._v(\"漫画\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.targetUrlHint,\"prop\":\"targetUrl\"}},[_c('el-input',{model:{value:(_vm.mangaForm.targetUrl),callback:function ($$v) {_vm.$set(_vm.mangaForm, \"targetUrl\", $$v)},expression:\"mangaForm.targetUrl\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"cmt-btn\"},[(_vm.reptileType == 1)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.crawlChapter}},[_vm._v(\"解析章节\")]):_vm._e(),_vm._v(\" \"),(_vm.reptileType == 2)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.crawlManga}},[_vm._v(\"解析漫画\")]):_vm._e(),_vm._v(\" \"),(_vm.reptileType == 1)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.downloadChapter}},[_vm._v(\"下载章节\")]):_vm._e(),_vm._v(\" \"),(_vm.reptileType == 2)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.downloadManga}},[_vm._v(\"下载漫画\")]):_vm._e()],1),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.chapterName))]),_vm._v(\" \"),_vm._l((_vm.chapterData),function(item){return _c('div',{key:item,staticClass:\"block\"},[_c('img',{attrs:{\"src\":item,\"alt\":\"\"}})])}),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.mangaName))]),_vm._v(\" \"),_vm._l((_vm.mangaContent),function(item){return _c('div',{key:item.name},[_c('h2',[_vm._v(_vm._s(item.name))])])})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7be4b351\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7be4b351\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7be4b351\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7be4b351\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Index from '@/components/Index'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Index',\n      component: Index\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nimport axios from 'axios'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nVue.config.productionTip = false\n\nVue.use(ElementUI)\nVue.prototype.axios = axios;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}